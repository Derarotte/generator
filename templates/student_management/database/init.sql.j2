-- {{ project_name_cn }} 数据库初始化
-- 作者: {{ author }}

CREATE DATABASE IF NOT EXISTS `{{ db_name }}` DEFAULT CHARSET utf8mb4;
USE `{{ db_name }}`;

DROP TABLE IF EXISTS `student`;
CREATE TABLE `student` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `student_no` varchar(20) NOT NULL COMMENT '学号',
  `name` varchar(50) NOT NULL COMMENT '姓名',
  `gender` varchar(10) DEFAULT '男' COMMENT '性别',
  `birthday` date DEFAULT NULL COMMENT '出生日期',
  `phone` varchar(20) DEFAULT NULL COMMENT '电话',
  `email` varchar(100) DEFAULT NULL COMMENT '邮箱',
  `address` varchar(200) DEFAULT NULL COMMENT '地址',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_student_no` (`student_no`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='学生表';

-- 测试数据
INSERT INTO `student` (`student_no`, `name`, `gender`, `phone`, `email`) VALUES
('2024001', '张三', '男', '13800001111', 'zhangsan@example.com'),
('2024002', '李四', '男', '13800002222', 'lisi@example.com'),
('2024003', '王五', '女', '13800003333', 'wangwu@example.com'),
('2024004', '赵六', '女', '13800004444', 'zhaoliu@example.com'),
('2024005', '陈七', '男', '13800005555', 'chenqi@example.com');

SELECT '数据库初始化完成!' AS message;
